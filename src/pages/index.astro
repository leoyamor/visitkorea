---
import BaseLayout from "../layouts/BaseLayout.astro";
import TreePage from "../components/TreePage.astro";
import { siteTree } from "../data/siteTree";
import { buildCollectionSchemaNodes } from "../lib/geo";
import { absoluteUrl } from "../lib/site";

const node = siteTree;
const segments: string[] = [];
const lang = "en";
const pageTitle = lang === "es"
  ? "Planificador de viaje a Corea"
  : "Visit Korea Planner: Practical South Korea Travel Guide";
const pageDescription =
  lang === "es"
    ? "Guía práctica para planear tu viaje a Corea con claridad y confianza."
    : "Practical South Korea travel guide for first-time and repeat visitors: city picks, transport, food, stays, etiquette, and regularly updated planning tips.";
const canonicalUrl = absoluteUrl("/");
const alternateEnUrl = absoluteUrl("/");
const alternateEsUrl = absoluteUrl("/es/");
const schemaNodes = buildCollectionSchemaNodes({
  canonicalUrl,
  routePath: "/",
  node,
  lang,
  description: pageDescription,
});
---

<BaseLayout
  title={pageTitle}
  description={pageDescription}
  bodyClass="home-bg"
  lang={lang}
  canonicalUrl={canonicalUrl}
  alternateEnUrl={alternateEnUrl}
  alternateEsUrl={alternateEsUrl}
  schemaNodes={schemaNodes}
>
  <TreePage node={node} segments={segments} parentPath="/" isHome lang={lang} />
</BaseLayout>
